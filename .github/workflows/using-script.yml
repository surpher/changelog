on: push

name: Daily build changelog

jobs:
  generate_changelog:
    name: "🧪 Generate changelog"
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v1

      - name: "🔍 Find latest build-number tag"
        id: fetchlatestbuildnumber
        run: |
          echo "::set-output name=latest-build::$(git tag --list 'build-number-*' --sort=v:refname | head -1)"

      - name: "Latest Build Number tag"
        run: |
          echo "BUILD TAG: ${{ steps.fetchlatestbuildnumber.outputs.latest-build }}"

      - name: "NPM version?"
        run: |
          echo "NPM Version: $(npm --version)"
